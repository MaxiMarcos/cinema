<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmaci贸n de Compra</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="css/main.css">
</head>
<body class="bg-black min-vh-100 d-flex flex-column text-white">
    <header class="header">
        <nav class="nav">
            <ul>
                <li><a href="#">Inicio</a></li>
                <li><a href="#">Estrenos</a></li>
                <li><a href="#">Pr贸ximamente</a></li>
                <li><a href="#">Ingresar</a></li>
            </ul>
        </nav>
    </header>

    <main class="container my-5 flex-grow-1">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card bg-dark text-white shadow-lg">
                    <div class="card-body text-center">
                        <h1 class="card-title mb-4"> 隆Compra confirmada!</h1>
                        <div id="reservation-message" class="alert alert-success" role="alert" style="display: none;"></div>
                        <div id="purchase-details" class="text-start">
                            <!-- Los detalles de la compra se cargar谩n aqu铆 -->
                        </div>
                        <a href="index.html" class="btn btn-danger mt-4">Volver al inicio</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-black text-white text-center py-3 mt-auto">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>Sobre Nosotros</h5>
                    <p>Tu mejor opci贸n para disfrutar del cine.</p>
                    <img src="img/logo.png" style="width: 60px">
                </div>
                <div class="col-md-4">
                    <h5>S铆guenos</h5>
                    <a href="" class="text-white me-2"><img src="img/linkedin.jpg" alt="Linkedin" width="30"></a>
                    <a href="" class="text-white me-2"><img src="img/twitter.png" alt="Twitter" width="30"></a>
                    <a href="" class="text-white"><img src="img/ig.png" alt="Instagram" width="30"></a>
                </div>
                <div class="col-md-4">
                    <h5>Contacto</h5>
                    <p>Email: maximilianoabelmarcos@gmail.com</p>
                    <p>Tel茅fono: 123456789</p>
                </div>
            </div>
            <p class="mt-3 mb-0">&copy; 2025 Maxi Cinema. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const detailsContainer = document.getElementById('purchase-details');
            const reservationMessageDiv = document.getElementById('reservation-message');

            console.log('Current URL:', window.location.href);
            console.log('Raw search string:', window.location.search);

            const movieName = urlParams.get('movieName');
            const date = urlParams.get('date');
            const time = urlParams.get('time');
            const theaterName = urlParams.get('theaterName');
            const seats = urlParams.get('seats');
            const total = urlParams.get('total');
            const reservationCode = urlParams.get('reservationCode');
            const status = urlParams.get('status');

            console.log('Status from URL (after get):', status);
            console.log('Reservation message div (after get):', reservationMessageDiv);

            if (status === 'success') {
                if (reservationMessageDiv) {
                    reservationMessageDiv.textContent = '隆Tus asientos han sido seleccionados y tu reserva est谩 pendiente de confirmaci贸n!';
                    reservationMessageDiv.style.display = 'block';
                }
            }

            if (detailsContainer) {
                detailsContainer.innerHTML = `
                    <p><strong>Pel铆cula:</strong> ${movieName}</p>
                    <p><strong>Fecha:</strong> ${date}</p>
                    <p><strong>Hora:</strong> ${time}</p>
                    <p><strong>Sala:</strong> ${theaterName}</p>
                    <p><strong>Asientos:</strong> ${seats}</p>
                    <p><strong>Total:</strong> $${total}</p>
                    <p class="mt-3"><strong>C贸digo de reserva:</strong> ${reservationCode}</p>
                    <p class="mt-4">Gracias por tu compra </p>
                `;
            }
        });
    </script>
</body>
</html>